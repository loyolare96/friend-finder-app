<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">
    <link rel="stylesheet" href="../style/style.css">

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
</head>

<body>
    <div class="container">
        <div class="jumbotron">
            <h1 class="text-center">Welcome to the survey.</h1>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="question1">
                <p>1. Your mind is always buzzing with unexplored ideas and plans.
                </p>
            </div>
        </div>
        <div class="row">
            <div class="answer1">
                <select name='answer'>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="question2">
                <p>2. Generally speaking, you rely more on your experience than your imagination.
                </p>
            </div>
        </div>
        <div class="row">
            <div class="answer2">
                <select name='answer'>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="question3">
                <p>3. You find it easy to stay relaxed and focused even when there is some pressure.
                </p>
            </div>
        </div>
        <div class="row">
            <div class="answer3">
                <select name='answer'>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="question4">
                <p>4. You rarely do something just out of sheer curiosity.
                </p>
            </div>
        </div>
        <div class="row">
            <div class="answer4">
                <select name='answer'>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="question5">
                <p>5. People can rarely upset you.
                </p>
            </div>
        </div>
        <div class="row">
            <div class="answer5">
                <select name='answer'>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="question6">
                <p>6. It is often difficult for you to relate to other people’s feelings.
                </p>
            </div>
        </div>
        <div class="row">
            <div class="answer6">
                <select name='answer'>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="question7">
                <p>7. In a discussion, truth should be more important than people’s sensitivities.
                </p>
            </div>
        </div>
        <div class="row">
            <div class="answer7">
                <select name='answer'>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="question8">
                <p>8. You rarely get carried away by fantasies and ideas.
                </p>
            </div>
        </div>
        <div class="row">
            <div class="answer8">
                <select name='answer'>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="question9">
                <p>9. You think that everyone’s views should be respected regardless of whether they are supported by facts
                    or not.
                </p>
            </div>
        </div>
        <div class="row">
            <div class="answer9">
                <select name='answer'>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="question10">
                <p>10. You feel more energetic after spending time with a group of people.
                </p>
            </div>
        </div>
        <div class="row">
            <div class="answer10">
                <select name='answer'>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
            </div>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="myModal" role="dialog">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Modal Header</h4>
                    </div>
                    <div class="modal-body">
                        <p>Some text in the modal.</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>

            </div>
        </div>

    </div>
    <div class="container">
        <div class="row">
            <div class="col-lg-3"></div>
            <div class="col-lg-6">
                <button type="button" id="myModal" class="btn btn-success">Submit</button>
            </div>
            <div class="col-lg-3"></div>
        </div>
    </div>

    <script type="text/javascript">
        $(".btn-success").on("click", function (event) {
            event.preventDefault();
            var userAnswers = [];
            $('select option:selected').each(function () {
                userAnswers.push($(this).val());
            });
            console.log(userAnswers);


            // This line is the magic. It"s very similar to the standard ajax function we used.
            // Essentially we give it a URL, we give it the object we want to send, then we have a "callback".
            // The callback is the response of the server. In our case, we set up code in api-routes that "returns" true or false
            // depending on if a tables is available or not.

            $.post("/api/friends", userAnswers,
                function (data) {
                    if (data) {
                        $("#myModal").modal();
                    }
                });
        });
    </script>

</body>

</html>